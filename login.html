<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta Tags -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="subject" content=" ">
  <meta name="copyright" content=" ">
  <meta name="revised" content=" " />
  <meta name="author" content=" " />
  <link href=" " rel="canonical" />

  <!--( Title )-->
  <title>Login | Software Selling Website</title>

  <link rel="shortcut icon" href="./images/icon/logo.png" type="image/x-icon">
  <link rel="stylesheet" href="./css/login.css">

  
</head>

<body>

  

  <!-- Container -->
  <div class="container">
    <div class="cover">
      <div class="front">
        <img src="./images/bg/frontImg.jpg" alt="">
        <div class="text">
          <span class="text-1">Login Now</span>
          <span class="text-2">(Software)</span>
        </div>
      </div>
    </div>
    <!-- Forms -->
    <div class="forms">
      <div class="form-content">

        <!-- Login Form -->
        <div class="login-form">
          <div class="title text-center mb-2">
            <a href="index.html"><img src="./images/icon/logo.png" alt="" height="100px"></a><br>
            <span id="formtitle">Login</span>
          </div>
          <div id="loginformAlert"></div>
          <!--Login-->
          <form action="#" id="loginForm">
            <div class="input-boxes">
              <div class="input-box">
                <i class="fas fa-envelope"></i>
                <input type="text" placeholder="Enter Your Email" id="lemail">
              </div>
              <div class="input-box">
                <i class="fas fa-lock"></i>
                <input type="password" placeholder="Enter Your Password" id="lpassword">
                <i class="far fa-eye" id="togglePassword" style="margin-left: 90%; cursor: pointer;"></i>
              </div>
              <div class="text"><a onclick="forgotPass()" href="#">Forgot password?</a></div>
              <div class="button input-box">
                <input type="submit" onclick="login()" id="loginbtn" value="Login">
              </div>
            </div>
          </form>
          <!--Forget Password-->
          <form action="#" id="forgetPassForm" class="d-none">
            <div class="input-boxes">
              <div class="input-box">
                <i class="fas fa-envelope"></i>
                <input type="text" placeholder="Enter Your Email" id="femail">
              </div>
              <div class="text"><a onclick="backToLogin()" href="#">Login Now?</a></div>
              <div class="button input-box">
                <input type="submit" onclick="forgotPassEmail()" id="forgetPassbtn" value="Submit">
              </div>
            </div>
          </form>
          <div>
            Don't have an account?
            <a href="Signup.html" type="button">Signup</a>
          </div>
          <br>
          <div>
           
            <a href="index.html" type="button">Home</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="./script.js"></script>
  <script>
    async function loginUser() {
      const email = document.getElementById('lemail').value;
      const password = document.getElementById('lpassword').value;
  
      try {
        const response = await fetch('http://localhost:3000/login', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ email, password }),
        });
  
        const data = await response.json();
  
        if (response.ok) {
          alert(data.message); // Login successful
        } else {
          alert('Login failed: Invalid credentials');
        }
      } catch (error) {
        console.error(error);
        alert('An error occurred while trying to login.');
      }
    }
  </script>
  
</body>

</html>
